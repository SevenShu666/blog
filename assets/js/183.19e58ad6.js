(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{457:function(t,s,e){"use strict";e.r(s);var a=e(10),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"问题记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题记录"}},[t._v("#")]),t._v(" 问题记录")]),t._v(" "),s("h2",{attrs:{id:"一-前端问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-前端问题"}},[t._v("#")]),t._v(" 一.前端问题")]),t._v(" "),s("h3",{attrs:{id:"_1-calc-不生效问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-calc-不生效问题"}},[t._v("#")]),t._v(" 1.calc 不生效问题")]),t._v(" "),s("p",[t._v("在 less 中使用 calc，calc 需要加上~和引号，如："),s("code",[t._v('clac(~"100vw - 14px")')])]),t._v(" "),s("h3",{attrs:{id:"_2-ios-时间-nan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ios-时间-nan"}},[t._v("#")]),t._v(" 2.ios 时间 NaN")]),t._v(" "),s("ol",[s("li",[t._v("时间格式为 2022-07-14,ios 中时间转换识别不了“-”需要将格式转为“/”，如：2022/07/14")]),t._v(" "),s("li",[t._v("关于时间临界值：对于 00:00:00 和 24:00:00 这两个时间临界值, ios 会转成 NAN")]),t._v(" "),s("li",[t._v("时间格式为 2022/07（年月）,这种在 ios 用 new Date 转换也会变成 NaN，需要补全日期")])]),t._v(" "),s("h3",{attrs:{id:"_3-replaceall-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-replaceall-方法"}},[t._v("#")]),t._v(" 3.replaceAll 方法")]),t._v(" "),s("p",[t._v("低版本手机不支持 replaceAll 方法")]),t._v(" "),s("h3",{attrs:{id:"_4-eventbus事件多次触发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-eventbus事件多次触发"}},[t._v("#")]),t._v(" 4.eventBus事件多次触发")]),t._v(" "),s("p",[t._v("eventBus.on注册的页面作为模块多次复用会导致eventBus.emit时注册事件多次触发，如果需要事件只触发一次，可以将事件注册为全局唯一事件")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/frontEnd/error_eventbus_multiple.png",alt:"eventBus注册唯一事件"}})]),t._v(" "),s("h3",{attrs:{id:"_5-vue3的css使用js中变量出现undefined"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue3的css使用js中变量出现undefined"}},[t._v("#")]),t._v(" 5.vue3的css使用js中变量出现undefined")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/frontEnd/error_css_var_undefined_web.png",alt:"error_css_var_undefined_web"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/frontEnd/error_css_var_undefined_code.png",alt:"error_css_var_undefined_code"}})]),t._v(" "),s("p",[t._v("vue3在css中引用js中的变量，找不到变量，原因是组件通过Teleport挂载到app元素下导致，改为在内联样式style中使用变量")]),t._v(" "),s("h3",{attrs:{id:"_6-eslint行首尾的cr警告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-eslint行首尾的cr警告"}},[t._v("#")]),t._v(" 6.eslint行首尾的cr警告")]),t._v(" "),s("p",[t._v("行首尾的cr警告，设置prettierrc文件endOfLine: auto")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/eslint/error_endOfLine.png",alt:"error_endOfLine"}})]),t._v(" "),s("h3",{attrs:{id:"_7-selint开启行尾分号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-selint开启行尾分号"}},[t._v("#")]),t._v(" 7.selint开启行尾分号")]),t._v(" "),s("p",[t._v("开启行尾分号在prettierrc文件加入semi: true")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/eslint/error_semi.png",alt:"error_semi"}})]),t._v(" "),s("h3",{attrs:{id:"_8-store使用时pinia还未注册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-store使用时pinia还未注册"}},[t._v("#")]),t._v(" 8.store使用时pinia还未注册")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/workingDiary/frontEnd/error_no_active_pinia.png",alt:"error_no_active_pinia"}})]),t._v(" "),s("p",[t._v("store使用时pinia实例可能还没有注册给app，因此需要在使用store的地方手动给store注入pinia实例，例：const setStore = useSetStore(pinia);")]),t._v(" "),s("h2",{attrs:{id:"二-electron问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-electron问题"}},[t._v("#")]),t._v(" 二.electron问题")]),t._v(" "),s("h3",{attrs:{id:"_1-无法收到鼠标事件-window"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-无法收到鼠标事件-window"}},[t._v("#")]),t._v(" 1.无法收到鼠标事件（window）")]),t._v(" "),s("p",[t._v("如果当前元素或上级元素设置了-webkit-app-region：drag进行拖拽支持，那么就是导致当前元素无法收到鼠标事件")]),t._v(" "),s("p",[t._v("需要在当前元素设置-"),s("a",{attrs:{href:"https://so.csdn.net/so/search?q=webkit&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[t._v("webkit"),s("OutboundLink")],1),t._v("-app-region: no-drag进行解决")]),t._v(" "),s("h3",{attrs:{id:"_2-打包报错-window-api-is-of-type-unknown"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-打包报错-window-api-is-of-type-unknown"}},[t._v("#")]),t._v(" 2.打包报错'window.api' is of type 'unknown'")]),t._v(" "),s("p",[t._v("需要在renderer下的env.d.ts中去声明")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" global "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Window")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ElectronAPI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    api"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-background-image图片不显示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-background-image图片不显示"}},[t._v("#")]),t._v(" 3.background-image图片不显示")]),t._v(" "),s("p",[t._v("触发内容安全策略")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Refused to load the image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAYnSURBVGiB1ZpPbxvHGcZ/s1wulxRlaXcRNU4F1aUpFYLhwIGDFL24hwIBAufQqh8iOrbuzQoMoUDcU50e6y+h5AsECHxpAwSIEcMQSkpMIreJoXaXpGSJ/5Y7PZCidpekOMswQfIAA3J25nne950/OzO7K7gA7z99cQMpN5DiFsh1YOmi+jPEIYhdhHyEEDt/vJZ/PK6iGHXxwefedaHp28DGd+RgUuzIwN++86r9JF4wFMDfntbeCeDv01hxgyqu9HBldZAHcDSr9yssHGEP8kmhweYfri0+DF+LBPDgqXcXId5LKlzyK5S6FeX6jmaxlipMF4iUW3eu2ffPsoMA/rrrvSOmaPmSX6Hkf5HcEfqB6D9PHIiEzT+t2w+hH8CD3efXQf88iUjJ/4KS/...71Rb9OZ6TjZ5rT+CL+Uv94qpt5tdFhv3ZCtdGZhj6AlU3z+uWkj9bPoSOCQylF4pd3i1mdm9kFKtVTKtXTqYwXrBwFK5dozIchhDzUpWAXgqnfPhZsEyubolJtKvdGwcoOuEnHfBhSiF1dEDySgl9PrQJYOZ2buTwA1YZPxWtQbfiROj1noWCH91TfbisikI+0QAQ7g5VvBsnKpbi5nB8yVnBMCo45MzsISSCCHW0r/+ZjhNyRImCWKY6Z6wu5s5V/87EO4MvOdkpLJXqp/dG/4k/iJtQvXfzg9ze/SLYQ+oG/DaAB3MvffiI0udmbUKpp1lC3LTS5eS9/+8kgAIC75lsPpQi2lMfgrKFoV4pg66751uBtvRbWeDf79n0h2PyhBiAEm+9m374foY3S+nPrw+sptG35A/nYQ8BOl2D7Xua3kz/2COO99gc3ENoGklsSuQ7JV+zpIA8FYhfBI2Sws2X8buznNv8HRQ7I8Ouz4V4AAAAASUVORK5CYII='")]),t._v(" because it violates the following Content Security Policy directive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"default-src 'self'\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Note that "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img-src'")]),t._v(" was not explicitly set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" so "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default-src'")]),t._v(" is used "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" a fallback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),s("p",[t._v("设置img-src包含data:内容")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta\n      http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("equiv"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Security-Policy"')]),t._v("\n      content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';img-src 'self' data:\"")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("策略指令")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("策略说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("default-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("默认加载策略")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("script-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("外部脚本")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("style-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("样式表")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("img-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("图像")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("media-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("媒体文件（音频和视频）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("font-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("字体文件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("object-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("插件（比如 Flash）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("child-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("框架")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("frame-ancestors")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("嵌入的外部资源（比如"),s("code",[t._v("<iframe>")]),t._v("、"),s("code",[t._v("<iframe>")]),t._v("、"),s("code",[t._v("<embed>")]),t._v("和"),s("code",[t._v("<applet>")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("connect-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("HTTP 连接（通过 XHR、WebSockets、EventSource等）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("worker-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("worker脚本")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("manifest-src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("manifest 文件")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("指令值")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("指令值说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("*")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许任何内容")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("‘none’")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("不允许任何内容")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("‘self’")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许来自相同来源的内容（相同的协议、域名和端口）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("data:")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许 data: 协议（如 base64 编码的图片）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("例子："),s("a",{attrs:{href:"https://link.juejin.im/?target=http%3A%2F%2Fwww.Google.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.Google.com"),s("OutboundLink")],1)]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许加载指定域名的资源")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("*.Google.com")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许加载 "),s("a",{attrs:{href:"https://link.juejin.im/?target=http%3A%2F%2FGoogle.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google.com"),s("OutboundLink")],1),t._v(" 任何子域的资源")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("‘unsafe-inline’")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许使用内联资源,如内联的 "),s("code",[t._v("<script>")]),t._v(" 元素、javascript: URL、内联的事件处理函数和内联的 "),s("code",[t._v("<style>")]),t._v(" 元素.两侧单引号是必须的.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("‘unsafe-eval’")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许使用"),s("code",[t._v("eval()")]),t._v("等通过字符串创建代码的方法。两侧单引号是必须的。")])])])]),t._v(" "),s("h3",{attrs:{id:"_4-electron自定义安装路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-electron自定义安装路径"}},[t._v("#")]),t._v(" 4.electron自定义安装路径")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.electron.build/configuration/nsis",target:"_blank",rel:"noopener noreferrer"}},[t._v("electon-builder文档"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("allowToChangeInstallationDirectory = "),s("code",[t._v("false")]),t._v("：允许改变安装路径，默认false")]),t._v(" "),s("p",[t._v("开启需要将oneClick设置为false")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nsis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\toneClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\tallowToChangeInstallationDirectory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),s("h3",{attrs:{id:"_5-vite-plugin-node-polyfills"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-vite-plugin-node-polyfills"}},[t._v("#")]),t._v(" 5.vite-plugin-node-polyfills")]),t._v(" "),s("p",[t._v("加入node中的模块，如：crypto")]),t._v(" "),s("h3",{attrs:{id:"_6-跨域警告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-跨域警告"}},[t._v("#")]),t._v(" 6.跨域警告")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("webPreferences:{\n\twebSecurity:false\n}\n")])])]),s("p",[s("img",{attrs:{src:"/blog/workingDiary/electron/error_webSecurity.png",alt:"error_webSecurity"}})]),t._v(" "),s("p",[t._v("electron开启跨域警告，在vite.config文件配置process.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true'消除警告;")]),t._v(" "),s("h3",{attrs:{id:"_7-electron的hover样式bug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-electron的hover样式bug"}},[t._v("#")]),t._v(" 7.electron的hover样式bug")]),t._v(" "),s("p",[t._v("electron的hover样式bug：在最小化后再打开app发现最小化按钮的hover样式还存在着，使用动态加载hover，在最小化时去除hover样式，然后监听最小化按钮的鼠标移动事件动态加入hover")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v('minDom""')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("min")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v('icon_position""')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("minHover:")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("hasHover")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v('}""')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("changeWinState('min')\"\"")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v('ts""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" VNodeRef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasHover "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" minDom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VNodeRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" changeWinState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("operate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("operate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'min'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    hasHover"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    minDom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      hasHover"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      minDom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("operate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"三-github-action问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-github-action问题"}},[t._v("#")]),t._v(" 三.github Action问题")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://docs.github.com/zh/actions/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("github文档"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_1-工作流-digital-envelope-routines-unsupported"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-工作流-digital-envelope-routines-unsupported"}},[t._v("#")]),t._v(" 1.工作流：digital envelope routines::unsupported")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("webpackbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Compiling Client\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("webpackbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Compiling Server\n/home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114")]),t._v("\n\t\t\tthrow e;\n\t\t\t^\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0308010C"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("digital envelope routines"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("unsupported\n    at new Hash (node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("internal/crypto/hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("71"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("19)\n    at Object.createHash (node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("crypto"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("133"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10)\n    at module.exports (/home/runner/work/blog/blog/node_modules/webpack/lib/util/createHash.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("135"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("53)\n    at NormalModule._initBuildHash (/home/runner/work/blog/blog/node_modules/webpack/lib/NormalModule.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("417"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("16)\n    at handleParseError (/home/runner/work/blog/blog/node_modules/webpack/lib/NormalModule.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("471"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10)\n    at /home/runner/work/blog/blog/node_modules/webpack/lib/NormalModule.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("503"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n    at /home/runner/work/blog/blog/node_modules/webpack/lib/NormalModule.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("358"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n    at /home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("373"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    at iterateNormalLoaders (/home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("214"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10)\n    at iterateNormalLoaders (/home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("221"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10)\n    at /home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("236"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    at context.callback (/home/runner/work/blog/blog/node_modules/loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/lib/LoaderRunner.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("111"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("13)\n    at /home/runner/work/blog/blog/node_modules/cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("loader/dist/index.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("134"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n    at /home/runner/work/blog/blog/node_modules/graceful"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("fs/graceful"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("fs.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token datetime number"}},[t._v("61:14")]),t._v("\n    at FSReqCallback.oncomplete (node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("198"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("23) "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("opensslErrorStack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error:03000086:digital envelope routines::initialization error'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'digital envelope routines'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reason")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unsupported'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ERR_OSSL_EVP_UNSUPPORTED'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nNode.js v18.15.0\nerror Command failed with exit code 1.\ninfo Visit https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//yarnpkg.com/en/docs/cli/run for documentation about this command.\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Process completed with exit code 1.\n")])])]),s("p",[t._v("node版本过高，deploy.yml文件设置node的版本")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置 Node")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Setup Node\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node@v3\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node-version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-工作流release-创建release失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-工作流release-创建release失败"}},[t._v("#")]),t._v(" 2.工作流release：创建release失败")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[t._v("Run softprops/action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("gh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("release@v1\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("files")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dist/"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("**")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("token")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("***")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GITHUB_TOKEN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("⚠️ Unexpected error fetching GitHub release for tag refs/tags/v1.0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("HttpError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Resource not accessible by integration\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Resource not accessible by integration\n")])])]),s("p",[t._v("需要根据没有的tags创建release")]),t._v(" "),s("h3",{attrs:{id:"_3-工作流cleanup-artifacts-for-windows-删除文件失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-工作流cleanup-artifacts-for-windows-删除文件失败"}},[t._v("#")]),t._v(" 3.工作流Cleanup artifacts for windows：删除文件失败")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[t._v("Run npx del"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('cli "dist/'),s("span",{pre:!0,attrs:{class:"token tag"}},[t._v("!(*.exe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token important"}},[t._v('*.dmg|latest*.yml)"')]),t._v("\n  npx del"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('cli "dist/'),s("span",{pre:!0,attrs:{class:"token tag"}},[t._v("!(*.exe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token important"}},[t._v('*.dmg|latest*.yml)"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" C"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\\Program Files\\PowerShell\\7\\pwsh.EXE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("command \". '"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("'\"\n'"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("*.dmg'")]),t._v(" is not recognized as an internal or external command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\noperable program or batch file.\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Process completed with exit code 1.\n")])])]),s("p",[t._v("需要在项目内安装del-cli，package.json文件")]),t._v(" "),s("h3",{attrs:{id:"_4-工作流release-创建release-403"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-工作流release-创建release-403"}},[t._v("#")]),t._v(" 4.工作流release：创建release 403")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Run softprops/action-gh-release@v1\n  with:\n    files: dist/**\n    token: ***\n  env:\n    GITHUB_TOKEN: \n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 403\nundefined\nretrying... (2 retries remaining)\n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 403\nundefined\nretrying... (1 retries remaining)\n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 403\nundefined\nretrying... (0 retries remaining)\n❌ Too many retries. Aborting...\nError: Too many retries.\n")])])]),s("p",[t._v("没有将ACCESS_TOKEN放入到项目的设置中")]),t._v(" "),s("h3",{attrs:{id:"_5-工作流release-创建release-404"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-工作流release-创建release-404"}},[t._v("#")]),t._v(" 5.工作流release：创建release 404")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Run softprops/action-gh-release@v1\n  with:\n    files: dist/**\n    token: ***\n  env:\n    GITHUB_TOKEN: ***\n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 404\nundefined\nretrying... (2 retries remaining)\n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 404\nundefined\nretrying... (1 retries remaining)\n👩‍🏭 Creating new GitHub release for tag v1.0.0...\n⚠️ GitHub release failed with status: 404\nundefined\nretrying... (0 retries remaining)\n❌ Too many retries. Aborting...\nError: Too many retries.\n")])])]),s("p",[t._v("将ACCESS_TOKEN的workflow选项选上")]),t._v(" "),s("h3",{attrs:{id:"_6-c-users-runneradmin-appdata-local-electron-builder-cache-nsis-nsis-3-0-4-1-bin-makensis-exe-process-failed-err-electron-builder-cannot-execute"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-c-users-runneradmin-appdata-local-electron-builder-cache-nsis-nsis-3-0-4-1-bin-makensis-exe-process-failed-err-electron-builder-cannot-execute"}},[t._v("#")]),t._v(" 6. C:\\Users\\runneradmin\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-3.0.4.1\\Bin\\makensis.exe process failed ERR_ELECTRON_BUILDER_CANNOT_EXECUTE")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('⨯ C:\\Users\\runneradmin\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-3.0.4.1\\Bin\\makensis.exe process failed ERR_ELECTRON_BUILDER_CANNOT_EXECUTE\nExit code:\n1\nOutput:\nCommand line defined: "APP_ID=com.electron.app"\nCommand line defined: "APP_GUID=f8941786-352c-5c22-bea5-7886c3ac4a8f"\nCommand line defined: "UNINSTALL_APP_KEY=f8941786-352c-5c22-bea5-7886c3ac4a8f"\nCommand line defined: "PRODUCT_NAME=starrysky-music"\nCommand line defined: "PRODUCT_FILENAME=starrysky-music"\nCommand line defined: "APP_FILENAME=starrysky-music"\nCommand line defined: "APP_DESCRIPTION=??????"\nCommand line defined: "VERSION=1.0.0"\nCommand line defined: "PROJECT_DIR=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop"\nCommand line defined: "BUILD_RESOURCES_DIR=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\build"\nCommand line defined: "APP_PACKAGE_NAME=starrysky-music-desktop"\nCommand line defined: "MUI_ICON=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\resources\\icon.ico"\nCommand line defined: "MUI_UNICON=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\resources\\icon.ico"\nCommand line defined: "APP_64=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\dist\\starrysky-music-desktop-1.0.0-x64.nsis.7z"\nCommand line defined: "APP_64_NAME=starrysky-music-desktop-1.0.0-x64.nsis.7z"\nCommand line defined: "APP_64_HASH=669243A0ED8C749B8E003F23EF44136096E315E9037BAF26A2ADEDDAC7E62F95A05AE04AA229650CC603FC614C1E792C036A54C4968A8DB40802336D6132B8B2"\nCommand line defined: "APP_64_UNPACKED_SIZE=343317"\nCommand line defined: "COMPANY_NAME=seven"\nCommand line defined: "APP_INSTALLER_STORE_FILE=starrysky-music-desktop-updater\\installer.exe"\nCommand line defined: "COMPRESSION_METHOD=7z"\nCommand line defined: "MULTIUSER_INSTALLMODE_ALLOW_ELEVATION"\nCommand line defined: "INSTALL_MODE_PER_ALL_USERS_REQUIRED"\nCommand line defined: "allowToChangeInstallationDirectory"\nCommand line defined: "SHORTCUT_NAME=starrysky-music"\nCommand line defined: "UNINSTALL_DISPLAY_NAME=starrysky-music"\nCommand line defined: "RECREATE_DESKTOP_SHORTCUT"\nCommand line defined: "MUI_WELCOMEFINISHPAGE_BITMAP=${NSISDIR}\\Contrib\\Graphics\\Wizard\\nsis3-metro.bmp"\nCommand line defined: "MUI_UNWELCOMEFINISHPAGE_BITMAP=${NSISDIR}\\Contrib\\Graphics\\Wizard\\nsis3-metro.bmp"\nCommand line defined: "ESTIMATED_SIZE=343317"\nCommand line defined: "COMPRESS=auto"\nCommand line defined: "BUILD_UNINSTALLER"\nCommand line defined: "UNINSTALLER_OUT_FILE=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\dist\\__uninstaller-nsis-starrysky-music-desktop.exe"\nProcessing config: C:\\Users\\runneradmin\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-3.0.4.1\\nsisconf.nsh\nProcessing script file: "<stdin>" (UTF8)\n\nError output:\n!include: could not open file: "D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\node_modules\\.pnpm\\app-builder-lib@24.13.3_dmg-builder@24.13.3_electron-builder-squirrel-windows@24.13.3_dmg-bui_lrspnoputfiosacwyigcypdbdi\\node_modules\\app-builder-lib\\templates\\nsis\\include\\allowOnlyOneInstallerInstance.nsh"\nError in script "<stdin>" on line 88 -- aborting creation process\n  failedTask=build stackTrace=Error: C:\\Users\\runneradmin\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-3.0.4.1\\Bin\\makensis.exe process failed ERR_ELECTRON_BUILDER_CANNOT_EXECUTE\nExit code:\n1\nOutput:\nCommand line defined: "APP_ID=com.electron.app"\nCommand line defined: "APP_GUID=f8941786-352c-5c22-bea5-7886c3ac4a8f"\nCommand line defined: "UNINSTALL_APP_KEY=f8941786-352c-5c22-bea5-7886c3ac4a8f"\nCommand line defined: "PRODUCT_NAME=starrysky-music"\nCommand line defined: "PRODUCT_FILENAME=starrysky-music"\nCommand line defined: "APP_FILENAME=starrysky-music"\nCommand line defined: "APP_DESCRIPTION=??????"\nCommand line defined: "VERSION=1.0.0"\nCommand line defined: "PROJECT_DIR=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop"\nCommand line defined: "BUILD_RESOURCES_DIR=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\build"\nCommand line defined: "APP_PACKAGE_NAME=starrysky-music-desktop"\nCommand line defined: "MUI_ICON=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\resources\\icon.ico"\nCommand line defined: "MUI_UNICON=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\resources\\icon.ico"\nCommand line defined: "APP_64=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\dist\\starrysky-music-desktop-1.0.0-x64.nsis.7z"\nCommand line defined: "APP_64_NAME=starrysky-music-desktop-1.0.0-x64.nsis.7z"\nCommand line defined: "APP_64_HASH=669243A0ED8C749B8E003F23EF44136096E315E9037BAF26A2ADEDDAC7E62F95A05AE04AA229650CC603FC614C1E792C036A54C4968A8DB40802336D6132B8B2"\nCommand line defined: "APP_64_UNPACKED_SIZE=343317"\nCommand line defined: "COMPANY_NAME=seven"\nCommand line defined: "APP_INSTALLER_STORE_FILE=starrysky-music-desktop-updater\\installer.exe"\nCommand line defined: "COMPRESSION_METHOD=7z"\nCommand line defined: "MULTIUSER_INSTALLMODE_ALLOW_ELEVATION"\nCommand line defined: "INSTALL_MODE_PER_ALL_USERS_REQUIRED"\nCommand line defined: "allowToChangeInstallationDirectory"\nCommand line defined: "SHORTCUT_NAME=starrysky-music"\nCommand line defined: "UNINSTALL_DISPLAY_NAME=starrysky-music"\nCommand line defined: "RECREATE_DESKTOP_SHORTCUT"\nCommand line defined: "MUI_WELCOMEFINISHPAGE_BITMAP=${NSISDIR}\\Contrib\\Graphics\\Wizard\\nsis3-metro.bmp"\nCommand line defined: "MUI_UNWELCOMEFINISHPAGE_BITMAP=${NSISDIR}\\Contrib\\Graphics\\Wizard\\nsis3-metro.bmp"\nCommand line defined: "ESTIMATED_SIZE=343317"\nCommand line defined: "COMPRESS=auto"\nCommand line defined: "BUILD_UNINSTALLER"\nCommand line defined: "UNINSTALLER_OUT_FILE=D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\dist\\__uninstaller-nsis-starrysky-music-desktop.exe"\nProcessing config: C:\\Users\\runneradmin\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-3.0.4.1\\nsisconf.nsh\nProcessing script file: "<stdin>" (UTF8)\n                                                                        Error output:\n!include: could not open file: "D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\node_modules\\.pnpm\\app-builder-lib@24.13.3_dmg-builder@24.13.3_electron-builder-squirrel-windows@24.13.3_dmg-bui_lrspnoputfiosacwyigcypdbdi\\node_modules\\app-builder-lib\\templates\\nsis\\include\\allowOnlyOneInstallerInstance.nsh"\nError in script "<stdin>" on line 88 -- aborting creation process\n                                                                        at ChildProcess.<anonymous> (D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\node_modules\\.pnpm\\builder-util@24.13.1\\node_modules\\builder-util\\src\\util.ts:252:14)\n    at Object.onceWrapper (node:events:632:26)\n    at ChildProcess.emit (node:events:517:28)\n    at ChildProcess.cp.emit (D:\\a\\starrysky-music-desktop\\starrysky-music-desktop\\node_modules\\.pnpm\\cross-spawn@7.0.3\\node_modules\\cross-spawn\\lib\\enoent.js:34:29)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)\n ELIFECYCLE  Command failed with exit code 1.\nError: Process completed with exit code 1.\n')])])]),s("p",[t._v("升级 electron 30 后 electron-builder 需要降级到 24.9.1，这个冲突只影响 action, 本地构建没事，将electron-builder锁定24.9.1。")]),t._v(" "),s("Valine")],1)}),[],!1,null,null,null);s.default=n.exports}}]);